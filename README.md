# vuetify-app

## Project setup
```
npm install
```

### Compiles and hot-reloads for development
```
npm run serve
```

### Compiles and minifies for production
```
npm run build
```

### Lints and fixes files
```
npm run lint
```

### Customize configuration
See [Configuration Reference](https://cli.vuejs.org/config/).

## 開発環境のセットアップ手順（日本語）

### 必要なツールのインストール

#### 1. Node.jsのインストール
このプロジェクトを実行するには、Node.jsとnpmが必要です。

1. [Node.js公式サイト](https://nodejs.org/)にアクセスします
2. 推奨版（LTS）をダウンロードしてインストールします
   - **Windows**:
     - インストーラーをダウンロードして実行します
     - インストールウィザードの指示に従ってください
     - "ツールのインストール"のオプションにチェックを入れると、追加の開発ツールも一緒にインストールされます
   - **macOS**:
     - インストーラー（.pkg）をダウンロードして実行します
     - または、Homebrewを使用している場合: `brew install node`
   - **Linux (Ubuntu/Debian)**:
     ```
     curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -
     sudo apt-get install -y nodejs
     ```
   - **Linux (CentOS/RHEL/Fedora)**:
     ```
     curl -fsSL https://rpm.nodesource.com/setup_lts.x | sudo bash -
     sudo yum install -y nodejs
     ```
3. インストールが完了したら、コマンドプロンプトまたはターミナルで以下のコマンドを実行して、正しくインストールされたことを確認します：
   ```
   node -v
   npm -v
   ```

##### npmのアップデート方法
npmは通常Node.jsと一緒にインストールされますが、最新バージョンにアップデートするには：

```
npm install -g npm@latest
```

##### nvm（Node Version Manager）を使用する方法
複数のNode.jsバージョンを管理したい場合は、nvmの使用をお勧めします：

- **Windows**: [nvm-windows](https://github.com/coreybutler/nvm-windows)をインストール
- **macOS/Linux**:
  ```
  curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash
  ```
  インストール後、以下のコマンドでNode.jsをインストール：
  ```
  nvm install --lts
  nvm use --lts
  ```

#### 2. Gitのインストール（オプション）

## コンポーネントの説明

### FileUpload.vue

#### 主な機能
- ファイルのアップロード機能
- 複数ファイルの選択と管理
- アップロードされたファイルのリスト表示
- ファイルサイズの表示
- 個別ファイルの削除機能

#### 処理ロジックの概要

1. **ファイル選択処理**:
   - `v-file-input`コンポーネントを使用してファイル選択UIを提供
   - ユーザーがファイルを選択すると`handleFiles`メソッドが呼び出される
   - 選択されたファイルは`uploadedFiles`配列に保存される
   - 親コンポーネントに`files-selected`イベントで選択されたファイルを通知

2. **ファイル管理**:
   - `initialFiles`プロパティを通じて初期ファイルを受け取ることが可能
   - ファイルリストはリアクティブに更新され、UIに反映される
   - 各ファイルには削除ボタンが付いており、個別に削除可能

3. **ユーティリティ機能**:
   - `formatFileSize`メソッドでファイルサイズを人間が読みやすい形式に変換
   - `getFiles`メソッドで現在のファイルリストを取得可能

4. **データフロー**:
   - コンポーネント内部で`files`と`uploadedFiles`の2つの配列を管理
   - ファイル操作時は両方の配列を同期させ、一貫性を保持
   - 親コンポーネントとの通信はイベントを通じて行われる

#### 使用例
```javascript
<FileUpload @files-selected="handleSelectedFiles" :initialFiles="myFiles" />
```

親コンポーネントでは、`handleSelectedFiles`メソッドを実装して選択されたファイルを処理します。

### StepGroup.vue

#### 主な機能
- 折りたたみ可能なステップグループの表示
- フローチャート形式でのステップ表示
- 垂直方向の矢印でステップの流れを視覚化
- スクロール可能なコンテンツエリア
- カスタマイズされたスクロールバー

#### 処理ロジックの概要

1. **グループ表示**:
   - `v-expansion-panels`と`v-expansion-panel`を使用して折りたたみ可能なパネルを実現
   - グループ名はパネルのヘッダーとして表示される
   - パネルの開閉状態はVuetifyによって自動的に管理される

2. **ステップの表示**:
   - `steps`配列を受け取り、各ステップを垂直方向に表示
   - 各ステップは境界線付きのボックスとして表示
   - ステップ間は下向き矢印で接続され、フローの方向を示す

3. **スクロール管理**:
   - コンテンツが多い場合、垂直スクロールバーが自動的に表示される
   - スクロールバーはカスタムスタイルで視覚的に改善されている
   - 固定高さのコンテナ内でスクロール可能なコンテンツを提供

4. **レスポンシブデザイン**:
   - 幅400pxの固定サイズパネルを使用
   - ステップボックスは親コンテナの90%幅を使用し、中央揃えで表示

#### 使用例
```javascript
<StepGroup 
  groupName="プロジェクト計画フェーズ" 
  :steps="['要件定義', '設計', 'リソース割り当て', 'スケジュール作成']" 
/>
```

このコンポーネントは、プロセスやワークフローを視覚的に表現するのに適しています。各ステップは文字列として渡され、自動的にフローチャート形式で表示されます。

### StepGroupAnalysis.vue

#### 主な機能
- 分析情報を含む折りたたみ可能なステップグループの表示
- 各ステップの状態を視覚的に区別するスタイル分け
- ツールチップによる詳細コメントの表示
- クリックで時間分析ダイアログを表示
- 改善提案の表示機能

#### 処理ロジックの概要

1. **拡張されたグループ表示**:
   - `v-expansion-panels`を基本としたStepGroupの拡張版
   - グループ名の横にチェックアイコンを表示して状態を視覚化
   - パネルヘッダーのカスタマイズによる情報の強調

2. **ステップの分析表示**:
   - 各ステップに異なるスタイルを適用して状態を区別
   - `stepsStyle`配列によって各ステップの視覚的スタイルを制御
   - ホバー効果によるインタラクティブな操作感の提供

3. **詳細情報の表示**:
   - `v-tooltip`を使用して各ステップの詳細コメントを表示
   - `stepComments`配列から各ステップの説明テキストを取得
   - ユーザーがステップにマウスオーバーすると詳細情報が表示

4. **時間分析機能**:
   - フローチャート全体をクリックすると時間分析ダイアログが開く
   - `TimeComparison`コンポーネントを使用して詳細な時間分析を表示
   - 各ステップの所要時間と合計時間の計算と表示
   - 自動化提案、熟練者の提案、改善不可能な項目の表示

5. **スタイルバリエーション**:
   - 灰色点線: 通常のステップ（`gray-dot`）
   - 青色塗り: 重要なステップ（`blue-fill`）
   - 青色枠線: 標準ステップ（`blue-norm`）
   - オレンジ色塗り: 注意が必要なステップ（`orange-fill`）
   - 緑色塗り: 最適化されたステップ（`green-fill`）

#### 使用例
```javascript
<StepGroupAnalysis
  groupName="注文処理フロー"
  :steps="['注文受付', '在庫確認', '支払い処理', '出荷準備', '配送手配']"
  :stepsStyle="['blue-norm', 'orange-fill', 'blue-fill', 'gray-dot', 'green-fill']"
  :stepComments="['注文情報を受け取ります', '在庫不足の可能性があります', '決済処理に時間がかかります', '通常の梱包作業です', '配送最適化済みです']"
  :stepTimes="[5, 10, 15, 20, 5]"
  :automationProposal="['支払い処理の自動化', '出荷準備の自動化']"
  :veteranProposals="['在庫確認の効率化']"
  :noImprovementProposals="['注文受付']"
/>
```

このコンポーネントは、業務プロセスの分析や改善点の可視化に特に適しています。各ステップの状態、所要時間、改善提案を一目で把握できるため、プロセス最適化の検討に役立ちます。

### AIThinking.vue

#### 主な機能
- AI処理中を示すアニメーション付きダイアログ
- パルスエフェクトを持つロボットアイコン
- 進行状況を示すプログレスバー
- 自動的に進行して閉じる機能
- カスタマイズ可能なテキストメッセージ

#### 処理ロジックの概要

1. **ダイアログ表示制御**:
   - `show`プロパティを通じてダイアログの表示/非表示を制御
   - `persistent`属性によりユーザーがダイアログ外をクリックしても閉じないように設定
   - `v-dialog`コンポーネントを使用したモーダル表示

2. **アニメーション処理**:
   - ロボットアイコンの浮遊アニメーション
   - パルスリングによる注目効果
   - "..."の点滅アニメーションによる処理中表示
   - CSSアニメーションとJavaScriptを組み合わせた視覚効果

3. **進行状況表示**:
   - プログレスバーによる視覚的な進行状況表示
   - パーセンテージテキストによる数値的な進行状況表示
   - `setInterval`を使用した進行状況の自動更新

4. **自動クローズ機能**:
   - 進行状況が100%に達すると自動的にダイアログを閉じる
   - `update:show`イベントを発行して親コンポーネントに状態変更を通知
   - コンポーネント破棄時のタイマークリーンアップ処理

5. **スタイリング**:
   - 半透明の背景とぼかし効果によるモダンなデザイン
   - 緑色のアクセントカラーによるブランディング
   - レスポンシブデザインによる様々な画面サイズへの対応

#### 使用例
```javascript
<template>
  <div>
    <v-btn @click="showAIThinking = true">AI分析を開始</v-btn>
    
    <AIThinking 
      :show.sync="showAIThinking"
      text="データを分析しています"
    />
  </div>
</template>

<script>
import AIThinking from '@/components/AIThinking.vue';

export default {
  components: {
    AIThinking
  },
  data() {
    return {
      showAIThinking: false
    }
  }
}
</script>
```

このコンポーネントは、AIやバックグラウンド処理の実行中にユーザーに視覚的なフィードバックを提供するために使用されます。アニメーションとプログレスバーにより、処理が進行中であることをユーザーに明確に伝えることができます。

### FlowAnalysisTable.vue

#### 主な機能
- 操作フローの分析結果を表示する高度なダッシュボード
- グループごとに折りたたみ可能な分析セクション
- 現状分析（強みと弱み）の視覚的表示
- 改善提案（自動化ポイントとベテラン化ポイント）の提示
- 時間影響分析の円グラフとプログレスバーによる可視化

#### 処理ロジックの概要

1. **データ構造と表示**:
   - `flowAnalysisData`オブジェクトから分析データを取得
   - グループ名をキーとして、各グループの分析情報を階層的に構造化
   - 各グループは現状分析、改善提案、時間影響分析のセクションを持つ

2. **グループの展開/折りたたみ制御**:
   - `expandedGroups`オブジェクトで各グループの表示状態を管理
   - `toggleGroup`メソッドでグループの展開/折りたたみを切り替え
   - `v-expand-transition`でスムーズなアニメーション効果を実現

3. **時間影響分析の計算**:
   - `getTotalTime`メソッドで各操作の合計時間を計算
   - `getTimePercentage`メソッドで各操作の時間割合をパーセンテージに変換
   - `PieChart`コンポーネントを使用して時間分布を視覚化

4. **操作ラベルの変換**:
   - `getOperationLabel`メソッドで内部キーを日本語表示に変換
   - 例: `repetitiveOperations` → `繰り返し操作による損失`

5. **視覚的フィードバック**:
   - 色分けされたセクションヘッダーで情報の種類を区別
   - カスタムリストスタイルで強み、弱み、改善点を視覚的に区別
   - ホバーエフェクトとトランジションでインタラクティブな体験を提供

#### 使用例
```javascript
<FlowAnalysisTable />
```

このコンポーネントは、業務プロセスの詳細な分析結果を視覚的に表示するために使用されます。現状の強みと弱み、改善提案、そして各操作にかかる時間の影響を包括的に表示することで、プロセス改善の意思決定をサポートします。

### TimeComparison.vue

#### 主な機能
- 操作時間の比較分析を視覚的に表示
- 一般ユーザー、自動化、ベテランの3つの操作パターンの時間比較
- 折りたたみ可能なフローチャートによる各パターンの詳細表示
- 時間差分の計算と視覚的表示
- 分析結果に基づく改善提案の表示

#### 処理ロジックの概要

1. **時間計算ロジック**:
   - 一般ユーザーの操作時間: すべてのステップの合計時間
   - 自動化された操作時間: 省略可能なステップ（`gray-dot`スタイル）を除いた合計時間
   - ベテラン操作時間: 最初の省略可能なステップを含み、その他の省略可能なステップを除いた合計時間
   - 各パターン間の時間差分を計算して比較

2. **フローチャート表示**:
   - 3つの操作パターンを並べて表示
   - 各ステップの所要時間を視覚的に表示
   - 省略されるステップを視覚的に区別（点線枠、薄い色）
   - トグルボタンでフローチャートの表示/非表示を切り替え

3. **分析結果の表示**:
   - 時間差分に基づいて自動的に分析結果を生成
   - 閾値（`EPSILON`）を使用して有意な差分を判定
   - 展開可能なパネルで複数の分析結果を整理
   - 状況に応じた改善提案を表示

4. **分析カテゴリ**:
   - 自動化を提案: 一般ユーザーまたはベテランと自動化の間に有意な時間差がある場合
   - ベテランのノウハウ引継ぎを提案: 一般ユーザーとベテランの間に有意な時間差がある場合
   - 自動化より早い: ベテランまたは一般ユーザーが自動化より速い場合
   - スーパーマンの可能性: 一般ユーザーがベテランより速い場合
   - 改善提案なし: 有意な時間差がない場合

5. **視覚的フィードバック**:
   - 各操作パターンを色分けして区別（青: 一般ユーザー、緑: 自動化、オレンジ: ベテラン）
   - 時間差分を色分けして重要度を視覚化
   - 分析結果のカテゴリごとに異なる背景色を使用

#### 使用例
```javascript
<TimeComparison
  :group-name="groupName"
  :steps="steps"
  :steps-style="stepsStyle"
  :step-times="stepTimes"
  :total-steps="steps.length"
  :total-time="calculateTotalTime"
/>
```

このコンポーネントは、業務プロセスの時間効率を分析し、改善点を特定するために使用されます。一般ユーザー、自動化、ベテランの操作時間を比較することで、自動化すべき部分やノウハウ継承が必要な部分を明確に示します。

### TimeBarChart.vue

#### 主な機能
- 3つの操作パターン（一般ユーザー、自動化、ベテラン）の処理時間を視覚的に比較するバーチャート
- Chart.jsとvue-chartjsを使用した対話的なグラフ表示
- データラベルによる時間値の明示的な表示
- カスタマイズされた色分けによる操作パターンの視覚的区別
- レスポンシブデザインによる様々な画面サイズへの対応

#### 処理ロジックの概要

1. **チャート初期化**:
   - Chart.jsライブラリとプラグインの登録（Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale, ChartDataLabels）
   - バーチャートコンポーネントの初期設定
   - 固定高さ（250px）の設定によるコンスタントな表示領域の確保

2. **データ管理**:
   - 3つの時間値（normalTime, automatedTime, veteranTime）をプロパティとして受け取る
   - 受け取ったデータをチャートデータ形式に変換
   - ウォッチャーを使用して入力データの変更を監視し、チャートを自動更新

3. **視覚的表現**:
   - 各操作パターンを色分けして区別
     - 一般ユーザー: 青色（#1976D2）
     - 自動化: 緑色（#4CAF50）
     - ベテラン: オレンジ色（#FF9800）
   - 半透明の背景色と実線の枠線による視認性の向上
   - 日本語ラベル（「①一般ユーザ」「②自動化」「③ベテラン」）の使用

4. **データラベル設定**:
   - 各バーの上部に時間値を秒単位で表示
   - 太字フォントと操作パターンに対応した色による視認性の向上
   - カスタムフォーマッターによる単位（秒）の追加

5. **軸設定**:
   - Y軸: 処理時間（秒）を表示、0から開始
   - X軸: 操作パターンのラベルを表示
   - 日本語フォント（Meiryo）の使用によるローカライズ
   - 目盛りラベルにも単位（秒）を追加

#### 使用例
```javascript
<TimeBarChart
  :normalTime="120"
  :automatedTime="45"
  :veteranTime="80"
/>
```

このコンポーネントは、TimeComparisonコンポーネントと組み合わせて使用され、3つの異なる操作パターン間の時間差を視覚的に比較するために使用されます。バーチャートの形式により、時間差を一目で把握することができ、業務プロセスの効率化検討に役立ちます。

### PieChart.vue

#### 主な機能
- 時間影響分析データを円グラフとして視覚化
- 各操作カテゴリの時間割合をパーセンテージで表示
- カスタマイズされた色分けによる操作カテゴリの視覚的区別
- インタラクティブな凡例とツールチップ
- レスポンシブデザインによる様々な画面サイズへの対応

#### 処理ロジックの概要

1. **チャート初期化**:
   - Chart.jsライブラリとプラグインの登録（ArcElement, Tooltip, Legend）
   - Pieコンポーネント（vue-chartjs）を使用した円グラフの実装
   - 固定高さ（300px）のコンテナによる一貫した表示領域の確保

2. **データ処理**:
   - `timeImpact`オブジェクトをプロパティとして受け取る
   - 各操作カテゴリの時間値を合計し、パーセンテージに変換
   - 内部キー（例: `repetitiveOperations`）を日本語表示（例: `繰り返し操作による損失`）に変換
   - 計算されたパーセンテージ値を小数点第一位まで表示（例: `25.5%`）

3. **視覚的表現**:
   - 各操作カテゴリを異なる色で表示（#FF6384, #36A2EB, #FFCE56など）
   - 最大11種類の色を使用して多様なカテゴリを区別
   - 凡例を円グラフの下部に配置し、各カテゴリを識別しやすく表示

4. **インタラクティブ機能**:
   - ホバー時にツールチップでカテゴリ名とパーセンテージを表示
   - カスタムツールチップフォーマットによる「カテゴリ名: XX%」の形式での表示
   - 凡例のクリックによる特定カテゴリの表示/非表示の切り替え

5. **操作カテゴリの種類**:
   - 繰り返し操作による損失
   - 非効率な検索による損失
   - 確認作業による損失
   - システム遷移による損失
   - 検索準備による損失
   - 確認時間による損失
   - 画面遷移による損失
   - 入力準備による損失
   - データ入力による損失
   - データ確認による損失
   - 検索操作による損失

#### 使用例
```javascript
<PieChart
  :timeImpact="{
    repetitiveOperations: 25,
    inefficientSearch: 15,
    confirmationDelay: 30,
    systemNavigation: 10,
    searchPreparation: 20
  }"
/>
```

このコンポーネントは、FlowAnalysisTableコンポーネントと組み合わせて使用され、業務プロセスにおける時間損失の内訳を視覚的に表現します。円グラフ形式により、各カテゴリの相対的な影響度を一目で把握することができ、改善すべき優先領域の特定に役立ちます。

### ManualViewer.vue

#### 主な機能
- マークダウン形式のマニュアルを表示するビューアコンポーネント
- 左側のナビゲーションサイドバーと右側のコンテンツエリアの2カラムレイアウト
- セクション間のスムーズなスクロール機能
- マークダウンをHTMLに変換して表示
- レスポンシブデザインによる様々な画面サイズへの対応

#### 処理ロジックの概要

1. **レイアウト構成**:
   - 画面を左右に分割し、左側（3列分）にナビゲーションメニュー、右側（9列分）にコンテンツを表示
   - 固定位置のサイドバーとスクロール可能なコンテンツエリアによる使いやすいUI
   - Vuetifyのグリッドシステムを活用した柔軟なレイアウト

2. **ナビゲーション機能**:
   - マニュアルの各セクション（グループ）をリスト形式で表示
   - 選択されたセクションを視覚的に強調表示
   - セクションをクリックすると、対応するコンテンツ部分に自動スクロール
   - `v-list-item-group`を使用した選択状態の管理

3. **マークダウン処理**:
   - `marked`ライブラリを使用してマークダウンテキストをHTMLに変換
   - `renderMarkdown`メソッドでコンテンツの変換処理を実行
   - 変換されたHTMLを`v-html`ディレクティブで安全に表示

4. **ID生成と参照**:
   - 各セクションに一意のIDを割り当て（既存のIDまたは名前から生成）
   - `generateTempId`メソッドで名前をURL安全な形式に変換
   - 生成されたIDを使用してセクション間のナビゲーションを実現

5. **スタイリング**:
   - マークダウンコンテンツに対する詳細なスタイル定義
   - 見出し、リスト、段落などの要素に一貫したスタイルを適用
   - `:deep`セレクタを使用して子コンポーネント内の要素にスタイルを適用
   - 色分けされた見出しによる視覚的階層の表現

#### 使用例
```javascript
<ManualViewer
  :manualData="{
    title: 'システム操作マニュアル',
    groups: [
      {
        id: 'section1',
        name: '基本操作',
        content: '# 基本操作\n\n基本的な操作方法について説明します。\n\n## ログイン方法\n\n1. ユーザー名を入力\n2. パスワードを入力\n3. ログインボタンをクリック'
      },
      {
        id: 'section2',
        name: 'データ入力',
        content: '# データ入力\n\nデータの入力方法について説明します。\n\n## フォームの使い方\n\n* 必須項目は赤色で表示されます\n* 保存ボタンをクリックすると入力内容が保存されます'
      }
    ]
  }"
/>
```

このコンポーネントは、アプリケーションのマニュアルやヘルプドキュメントを表示するために使用されます。マークダウン形式のコンテンツをサポートしているため、リッチなフォーマットのドキュメントを簡単に作成・表示できます。左側のナビゲーションメニューにより、ユーザーは長いドキュメント内を簡単に移動することができます。

## データ構造の説明

### scenarioGroups.js

#### データ概要
`scenarioGroups.js`は、業務シナリオのグループを定義するデータ構造です。各シナリオグループは特定の業務プロセス（例：Excel検索、決裁システム検索など）を表し、そのプロセスに含まれる具体的なステップとマニュアル参照情報を含んでいます。このデータは、アプリケーション内の様々なコンポーネント（特に`StepGroup`や`StepGroupAnalysis`、`TimeComparison`）で使用され、業務フローの可視化と分析に役立ちます。

#### データ構造

```javascript
[
  {
    name: '業務プロセス名',
    steps: [
      'ステップ1',
      'ステップ2',
      // ...その他のステップ
    ],
    manualRef: {
      document: 'マニュアル文書名',
      chapter: '章',
      section: 'セクション',
      item: '項目',
      page: 'ページ番号',
      content: 'マニュアルの内容（HTML形式）'
    }
  },
  // ...その他のシナリオグループ
]
```

#### 主要なシナリオグループ

1. **Excel検索**
   - 説明: Excelファイルを検索・確認するための一連のステップ
   - ステップ例: 「エクスプローラでフォルダ遷移する」「Excelを開く」「Excelの中身を確認」など
   - マニュアル参照: 「旅費精算システム利用マニュアル.pdf」の第3章（基本操作）

2. **決裁システム検索**
   - 説明: 社内の決裁システムにアクセスして情報を検索するプロセス
   - ステップ例: 「ブラウザを起動する」「社内サイトを起動する」「決裁システムかを確認する」など
   - マニュアル参照: 「旅費精算システム利用マニュアル.pdf」の第4章（社内システム）

3. **新規起票作成**
   - 説明: 決裁システムで新規起票を作成するためのプロセス
   - ステップ例: 「システムにログインする」「システム内を遷移する」「新規起票のページを開く」など
   - マニュアル参照: 「海外出張費精算ガイド.pdf」の第4章（社内システム）

4. **新規起票入力**
   - 説明: 起票フォームに必要な情報を入力するプロセス
   - ステップ例: 「GUI1の日付を選択」「ExcelからXXをコピー」「XXXをGUI2にペーストする」など
   - マニュアル参照: 「海外出張費精算ガイド.pdf」の第4章（社内システム）

#### マニュアル参照情報の構造

各シナリオグループには、関連するマニュアル情報が`manualRef`オブジェクトとして含まれています：

- **document**: マニュアルのファイル名（例：「旅費精算システム利用マニュアル.pdf」）
- **chapter**: 関連する章（例：「第3章：基本操作」）
- **section**: 関連するセクション（例：「3.2 ファイル操作」）
- **item**: 具体的な項目（例：「Excelファイルの検索と確認」）
- **page**: ページ番号（例：「25」）
- **content**: マニュアルの内容（HTML形式で、手順や注意点などを含む）

#### データの活用方法

このデータ構造は主に以下の目的で使用されます：

1. **業務フローの可視化**
   - `StepGroup`コンポーネントでの業務ステップの表示
   - `StepGroupAnalysis`コンポーネントでの業務フロー分析の視覚化

2. **時間分析の基礎データ**
   - `TimeComparison`コンポーネントでの各ステップの所要時間の比較
   - 一般ユーザー、自動化、ベテランの操作パターン間の違いの分析

3. **マニュアル参照の連携**
   - `ManualViewer`コンポーネントでの関連マニュアルセクションの表示
   - 業務プロセスと公式マニュアルの紐付け

4. **業務改善の基礎情報**
   - 各ステップの必要性と効率性の分析
   - 自動化やベテランのノウハウ活用による改善ポイントの特定

このデータ構造により、業務プロセスの標準化と可視化が促進され、効率化のための分析基盤が提供されます。また、新入社員の教育や業務マニュアルの整備にも活用できます。

### flowAnalysisData.js

#### データ概要
`flowAnalysisData.js`は、業務プロセスの分析結果を構造化したデータオブジェクトです。このデータは、各業務フローの現状分析、改善提案、時間影響分析などの情報を含み、アプリケーション内の様々なコンポーネント（特に`FlowAnalysisTable`や`TimeComparison`）で使用されます。

#### データ構造

```javascript
{
  "業務フロー名": {
    normalUserAnalysis: {
      strengths: [ /* 強みの配列 */ ],
      weaknesses: [ /* 弱みの配列 */ ],
      automationPoints: [ /* 自動化提案の配列 */ ],
      veteranPoints: [ /* ベテラン化提案の配列 */ ]
    },
    timeImpact: {
      /* 時間影響カテゴリとその値（秒単位） */
    },
    manualReference: {
      section: "マニュアルのセクション参照",
      page: "ページ番号"
    }
  }
}
```

#### 主要な業務フロー

1. **Excel検索**
   - 一般ユーザーがExcelファイルを検索・操作する際のフロー分析
   - 主な時間影響: 繰り返し操作（40秒）、非効率な検索（18秒）、確認作業（15秒）
   - マニュアル参照: セクション3.2.1（25ページ）

2. **決裁システム検索**
   - 決裁システムでの情報検索に関するフロー分析
   - 主な時間影響: システム遷移（20秒）、検索準備（15秒）、確認時間（5秒）
   - マニュアル参照: セクション4.1.1（42ページ）

3. **新規起票作成**
   - 決裁システムでの新規起票作成フロー分析
   - 主な時間影響: 画面遷移（6秒）、入力準備（5秒）、確認作業（2秒）
   - マニュアル参照: セクション4.2.1（45ページ）

4. **新規起票入力**
   - 説明: 起票フォームに必要な情報を入力するプロセス
   - ステップ例: 「GUI1の日付を選択」「ExcelからXXをコピー」「XXXをGUI2にペーストする」など
   - マニュアル参照: 「海外出張費精算ガイド.pdf」の第4章（社内システム）

#### 分析カテゴリの説明

1. **normalUserAnalysis**: 一般ユーザーの業務フロー分析
   - **strengths**: 現状の強み・良い点
   - **weaknesses**: 現状の弱み・課題点
   - **automationPoints**: 自動化による改善提案
   - **veteranPoints**: ベテランのノウハウ活用による改善提案

2. **timeImpact**: 時間影響分析
   各カテゴリの時間損失（秒単位）を示す
   - **repetitiveOperations**: 繰り返し操作による損失
   - **inefficientSearch**: 非効率な検索による損失
   - **confirmationDelay**: 確認作業による損失
   - **systemNavigation**: システム遷移による損失
   - **searchPreparation**: 検索準備による損失
   - **confirmationTime**: 確認時間による損失
   - **screenTransition**: 画面遷移による損失
   - **inputPreparation**: 入力準備による損失
   - **dataEntry**: データ入力による損失
   - **dataVerification**: データ確認による損失
   - **searchOperation**: 検索操作による損失

3. **manualReference**: マニュアル参照情報
   - **section**: 関連するマニュアルのセクション
   - **page**: 関連するマニュアルのページ番号

#### データの活用方法

このデータは主に以下の目的で使用されます：

1. **業務プロセスの可視化**
   - 各業務フローの強み・弱みを明確に表示
   - 時間損失の内訳を円グラフで視覚化

2. **改善提案の提示**
   - 自動化による効率化ポイントの提案
   - ベテランのノウハウ活用による効率化ポイントの提案

3. **時間分析の基礎データ**
   - `TimeComparison`コンポーネントでの一般ユーザー、自動化、ベテランの時間比較
   - `PieChart`コンポーネントでの時間損失カテゴリの割合表示

4. **マニュアル参照の連携**
   - 関連するマニュアルセクションへの参照情報の提供
   - 詳細な手順の確認を容易にする

このデータ構造は、業務プロセスの分析と改善提案を体系的に管理し、アプリケーション全体で一貫した情報提供を可能にします。

### scenarioAnalysis.js

#### データ概要
`scenarioAnalysis.js`は、業務シナリオの詳細な分析情報を提供するデータ構造です。`scenarioGroups.js`を拡張し、各ステップのスタイル、コメント、所要時間、および改善提案（自動化、ベテランのノウハウ活用、改善困難な項目）などの詳細情報を追加しています。このデータは主に`StepGroupAnalysis`や`TimeComparison`コンポーネントで使用され、業務プロセスの視覚的な分析と改善提案の表示に活用されます。

#### データ構造

```javascript
[
  {
    name: '業務プロセス名',
    steps: [
      'ステップ1',
      'ステップ2',
      // ...その他のステップ
    ],
    stepsStyle: [
      'スタイル1', // 例: 'gray-dot', 'blue-fill', 'orange-fill', 'green-fill', 'blue-norm'
      'スタイル2',
      // ...各ステップのスタイル
    ],
    stepComments: [
      'ステップ1の説明コメント',
      'ステップ2の説明コメント',
      // ...各ステップの説明コメント
    ],
    stepTimes: [
      10, // ステップ1の所要時間（秒）
      20, // ステップ2の所要時間（秒）
      // ...各ステップの所要時間
    ],
    automationProposal: [
      '自動化による改善提案1',
      '自動化による改善提案2',
      // ...自動化の提案リスト
    ],
    veteranProposals: [
      'ベテランのノウハウ活用による改善提案1',
      'ベテランのノウハウ活用による改善提案2',
      // ...ベテランのノウハウ活用の提案リスト
    ],
    noImprovementProposals: [
      '改善が困難な理由1',
      '改善が困難な理由2',
      // ...改善が困難な項目のリスト
    ],
    manualRef: {
      // scenarioGroupsと同じマニュアル参照情報
    }
  },
  // ...その他のシナリオ分析
]
```

#### ステップスタイルの種類と意味

`stepsStyle`配列には、各ステップの視覚的表現を定義する以下のスタイル値が含まれます：

- **gray-dot**: 省略可能なステップや繰り返し操作を表す（点線の枠線で表示）
- **blue-fill**: 重要な操作ステップを表す（青色で塗りつぶし表示）
- **orange-fill**: 確認作業や注意が必要なステップを表す（オレンジ色で塗りつぶし表示）
- **green-fill**: 効率化できる可能性が高いステップを表す（緑色で塗りつぶし表示）
- **blue-norm**: 標準的な重要ステップを表す（青色の枠線で表示）

これらのスタイルは、`TimeComparison`コンポーネントでの時間計算ロジックにも影響します。例えば、自動化された操作では`gray-dot`スタイルのステップが省略され、ベテラン操作では最初の`gray-dot`ステップのみが含まれます。

#### 主要なシナリオ分析

1. **Excel検索**
   - 10のステップから構成され、各ステップの所要時間と改善点を詳細に分析
   - 主な改善提案：フォルダ遷移の自動化、ショートカットの導入、ファイル名のパターン認識
   - ベテランのノウハウ：フォルダ管理のルール統一、ショートカット活用、効率的な検索方法

2. **決裁システム検索**
   - 6のステップから構成され、システム遷移と確認作業の効率化に焦点
   - 主な改善提案：ログインの自動化、自動ブックマーク登録、アクセス履歴の活用
   - ベテランのノウハウ：ブックマーク管理、最適な遷移手順、エラー対応方法

3. **新規起票作成**
   - 6のステップから構成され、システム内の効率的な遷移と起票作成に焦点
   - 主な改善提案：ログイン情報の自動入力、ページ遷移の自動化、入力内容の自動検証
   - ベテランのノウハウ：最短ルートでのアクセス方法、入力情報の事前整理、ショートカットキーの活用

4. **新規起票入力**
   - 18のステップから構成され、データ入力と確認作業の詳細分析
   - 主な改善提案：日付の一括選択、データの自動コピー＆ペースト、検索キーワードの自動入力
   - ベテランのノウハウ：ショートカットキーの活用、効率的なコピー＆ペースト手順、チェックリストの活用

#### データの活用方法

このデータ構造は主に以下の目的で使用されます：

1. **業務プロセスの詳細分析**
   - 各ステップの所要時間を可視化し、ボトルネックを特定
   - ステップの重要度や性質を視覚的に区別（色分けやスタイルで表現）

2. **改善提案の具体化**
   - 自動化による改善可能なポイントを具体的に提示
   - ベテランのノウハウを活用した効率化ポイントを明確化
   - 改善が困難な項目を特定し、リソース配分の最適化を支援

3. **時間比較分析の基礎データ**
   - 一般ユーザー、自動化、ベテランの3つの操作パターンの時間比較
   - 各ステップの所要時間に基づく総合的な時間分析

4. **視覚的フィードバック**
   - ステップの性質に応じた色分けとスタイル適用
   - コメントによる各ステップの詳細説明の提供

`scenarioAnalysis`は`scenarioGroups`を拡張したデータ構造であり、より詳細な分析情報と改善提案を提供することで、業務プロセスの最適化と効率化を支援します。このデータを活用することで、アプリケーションは単なる業務フローの可視化だけでなく、具体的な改善アクションの提案も可能になります。

### manualContent.js

#### データ概要
`manualContent.js`は、アプリケーション内で表示される業務マニュアルのコンテンツを定義するデータ構造です。このデータは、各業務プロセスの詳細な手順、注意点、ベストプラクティスなどをマークダウン形式で提供し、`ManualViewer`コンポーネントによって表示されます。ユーザーは、このマニュアルを参照することで、業務プロセスの正確な実行方法を学ぶことができます。

#### データ構造

```javascript
{
  title: "マニュアルのタイトル",
  groups: [
    {
      id: "マニュアルセクションのID",
      name: "マニュアルセクションの名前",
      content: `
        # マークダウン形式のマニュアルコンテンツ
        
        ## セクション見出し
        
        マニュアルの詳細な説明文...
        
        ### サブセクション
        
        1. 手順1
        2. 手順2
        3. 手順3
        
        > 注意事項や補足情報
      `
    },
    // ...その他のマニュアルセクション
  ]
}
```

#### 主要なマニュアルセクション

1. **Excel検索**
   - ID: `excel-search`
   - 内容: Windowsエクスプローラを使用したExcelファイルの検索手順
   - 主要セクション:
     - 概要
     - Excelファイルの検索手順（エクスプローラを使用した検索、ファイルの詳細確認）
     - 検索作業を効率化するポイント（ショートカット活用、お気に入り登録、定期的なファイル整理）
     - 注意点

2. **決裁システム検索**
   - ID: `approval-system`
   - 内容: 社内決裁システムの使用方法
   - 主要セクション:
     - システムへのアクセス方法（ブラウザの起動、社内サイトへのアクセス、認証情報の入力）
     - システムの基本操作（メニューからの画面遷移、必要情報の確認、セキュリティ注意事項）
     - 重要ポイント（セッションタイムアウト、パスワード管理、ブラウザの互換性）

3. **新規起票作成**
   - ID: `new-ticket`
   - 内容: 決裁システムでの新規起票作成手順
   - 主要セクション:
     - 起票の準備（必要書類の確認、システムログイン、適切な権限の確認）
     - 起票手順（新規起票画面への遷移、申請種別の選択、必要情報の入力）
     - 注意事項（入力情報の正確性確認、添付ファイルの確認、承認ルートの確認）

4. **新規起票入力**
   - ID: `ticket-input`
   - 内容: 起票情報の詳細な入力方法
   - 主要セクション:
     - 基本情報の入力（日付の選択、申請者情報の確認、部署情報の入力）
     - 詳細情報の入力（案件情報、金額情報、添付資料の準備）
     - 最終確認（入力内容の確認、承認ルートの確認、申請処理の実行）

#### マークダウン形式の特徴

マニュアルコンテンツはマークダウン形式で記述されており、以下の要素を含んでいます：

- **見出し**: `#`, `##`, `###` などで階層構造を表現
- **リスト**: 番号付きリスト（`1.`, `2.`, ...）や箇条書き（`-`, `*`）
- **強調**: `**太字**` や `*斜体*` による重要情報の強調
- **引用**: `>` で始まる注意事項や補足情報
- **コードブロック**: バッククォート（\`）で囲まれたコマンドやコード例

#### データの活用方法

このデータ構造は主に以下の目的で使用されます：

1. **業務マニュアルの表示**
   - `ManualViewer`コンポーネントでマークダウン形式のマニュアルを表示
   - 左側のナビゲーションメニューと右側のコンテンツエリアの2カラムレイアウトで表示

2. **業務プロセスの学習支援**
   - 新入社員や未経験者が業務プロセスを学ぶための参照資料
   - 標準的な手順や注意点を明確に提示

3. **業務フローとの連携**
   - `scenarioGroups`や`scenarioAnalysis`のマニュアル参照情報（`manualRef`）と連携
   - 業務フロー分析から関連するマニュアルセクションへの参照を提供

4. **知識の標準化と共有**
   - 組織内での業務知識の標準化と共有を促進
   - ベストプラクティスや効率的な作業方法の文書化

`manualContent`は、アプリケーション内の業務マニュアルの中核となるデータ構造であり、ユーザーが業務プロセスを正確に理解し実行するための重要な情報源となります。マークダウン形式を採用することで、構造化された読みやすいマニュアルを提供し、ユーザーの学習と業務効率の向上をサポートします。

### flowAnalysisData.js

// ... existing code ...